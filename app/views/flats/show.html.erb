<!DOCTYPE html>
<html>
<head>
  <title>Photos</title>
  <%= stylesheet_link_tag '/app/assets/stylesheets/components/_photos.scss', media: 'all' %>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container"> <!--CONTENEDOR DE LAS FOTOGRAFIAS-->

      <div class="container">
        <h1 class="my-3" style="font-family: Circular, -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, sans-serif;"><%= @flat.title %></h1>
          <div class="row">
            <% @flat.photos.each_with_index do |photo, index| %>
              <% if index == 0 %>
                <div class="col-md-6 column-gap">
                  <div class="card mb-2">
                    <%= cl_image_tag(photo.key, transformation: [{height: 500, width: 420, crop: :lfill}], class: "photo-large") %>
                  </div>
                </div>

              <% else %>
                  <div class="col-md-5">
                    <div class="card mb-2">
                      <%= cl_image_tag(photo.key, transformation: [{height: 100, width: 200, crop: :lfill}], class: "photo-small") %>
                    </div>
              <% end %>
            <% end %>
          </div>
      </div>
  </div>
</div>

<div class="container mt-4">
  <p><strong>Flat in <%= @flat.address %></strong></p>
  <p><%= @flat.description %></p>
  <p><%= @flat.available_start %> - <%= @flat.available_end %></p>
  <p><strong><%= @flat.price %></strong></p>
  <div class="d-grid gap-2 d-md-block">
    <%= link_to "Book Now", new_flat_booking_path(@flat), class:'btn btn-success m-3'%>
    <%= link_to 'Back', flats_path, class:'btn btn-outline-primary m-3'%>
  </div>
</div>

</body>
</html>
